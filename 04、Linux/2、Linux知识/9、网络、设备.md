[TOC]

# 网络模型

| OSI七层网络模型          | TCP/IP四层 概念模型 | 对应网络协议                            |
| ------------------------ | ------------------- | --------------------------------------- |
| 应用层（Application）    |                     | ==HTTP==、TFTP, ==FTP==,  NFS, WAIS、   |
| 表示层（Presentation）   | 应用层              | Telnet, Rlogin, SNMP, Gopher            |
| 会话层（Session）        |                     | ==SMTP==, ==DNS==                       |
| 传输层（Transport）      | 传输层              | TCP, UDP                                |
| 网络层（Network）        | 网络层              | IP, ICMP, ARP, RARP, AKP, UUCP          |
| 数据链路层（Data  Link） | 数据链路层          | FDDI, Ethernet, Arpanet, PDN, SLIP, PPP |
| 物理层（Physical）       |                     | IEEE 802.1A, IEEE 802.2到IEEE  802.11   |

## OSI七层和TCP/IP四层的关系

1. OSI引入了服务、接口、协议、分层的概念，TCP/IP借鉴了OSI的这些概念建立TCP/IP模型
2. OSI先有模型，后有协议，先有标准，后进行实践；而TCP/IP则相反，先有协议和应用再提出了模型，且是参照的OSI模型。
3. OSI是一种理论下的模型，而TCP/IP已被广泛使用，成为网络互联事实上的标准。
   1. TCP：transmission control protocol 传输控制协议（打电话）
   2. UDP：user data protocol 用户数据包协议（相当于写信）



# 网络设备

## 交换机

> 由来，早期的时候并没有这个设备，当时使用HUB设备进行数据的发送，但是HUB发送数据的特性广播，这样的方式，数据不安全，增加网路带宽的消耗。
>
> 交换的工作原理：通电之后，在自己的内部建立一张设备Mac地址表。这张表中记录了设备的Mac地址或其他的信息。
>
> 交换机可以组建局域网(内网)。

![](https://gitee.com/sxhDrk/images/raw/master/imgs/交换机.png)

## 路由器

> 实现网络代理的功能，在公共网络上，上网的节点是路由器，并不是电脑。
>
> 将局域网中的数据转发至公共网络(外网)。

### 介绍：

1. 早期上网的方式是：通过电话线插入电脑上，进行拨号上网。此方式的缺点：1、电话一直占线。2、有可能电话进来，掉线。
2. 通信公司发现这样的缺点之后，出现了一个新的设备，这个设备的功能可以将电话线路一分为二。分别实现电话、上网的功能。调制解调器(猫)。
3. 随着社会的发展，发现这种方式又不能满足日常的上网需求。一个猫只有一个接口，无法满足多台设备上网的需求的。
4. 将多台设备接入交换，交换机的其中一个接口连接路由器。
5. 连接顺序：
   - 猫上出的网线接入路由器的WAN口
   - 路由器的LAN口接入交换机。
6. 无线设备。大约在2008年，家用无线路由器开始普及。

![](https://gitee.com/sxhDrk/images/raw/master/imgs/路由器.png)

> 无线路由器是将交换机和有线路由器和在一起产品。







# 网络地址

## 配置网络时需要配置的信息

| 配置信息 | 介绍                                                         |
| -------- | ------------------------------------------------------------ |
| IP地址   | PC在网络中的通信地址。                                       |
| 子网掩码 | 子网掩码有且只有这一个功能，用于划分网络，将一个IP地址中的网络位和主机位进行划分。是一个32位的地址。也有：32位/24位/16位/8位 |
| 网关     | 网络的关口，用于数据转发，通常理解为路由器的地址，大部分硬件厂家的出厂默认地址是，192.168.0.1 \| 192.168.1.1 |
| DNS      | 用于解析域名的作用，Domain Name System 域名解析系统。        |

### IP地址

> IP地址 = 网络位+主机位
>
> - 相同的网络，网络位肯定相同，主机位不一样
> - 不同的网络，网络位肯定不同，主机位可能一样

比如：电话号码

|      | 网络位 | 主机位   |
| ---- | ------ | -------- |
| 北京 | 010    | 88889999 |
| 上海 | 021    | 12345678 |
|      | 021    | 88889999 |

### 网关

> 一般设置为:
>
> - xxx.xxx.xxx.254，贴近广播地址
> - xxx.xxx.xxx.1

在网络中，一般来说：

- 0这个IP被用来当作网段的标识。
- 255这个IP被用来当作广播地址使用
- 正常使用的IP范围中，其中一个IP地址要被拿来当作网关（路由器）使用

### 子网掩码

> 一个网络中有多少个IP地址，取决于子网掩码

比如：家用网络中，一般都是：

- 192.168.1.2-254
- 255.255.255.0
- 192.168.1.1

其中：1

- 92.168.1.2-254位主机IP地址
- 255.255.255.0子网掩码（用于划分网络，子网掩码可以计算IP地址的数量）
- 192.168.1.1当作网关使用
- 192.168.1.0用来表示网段

图解：

![](https://gitee.com/sxhDrk/images/raw/master/imgs/子网掩码的作用.png)

## 网络传输过程

> 1. 本地主机通过IP地址找到自己的网关，网关外可能还有网关，对数据进行包装（表头，校验等信息）
> 2. 通过外网找到信息中的目标地址，再由目标地址网关解析信息，最后目标主机收到消息

图解：

![](https://gitee.com/sxhDrk/images/raw/master/imgs/网络传输过程.png)

## DNS

### 静态

> 优点：可以使我们PC/服务器有一个更快的解析速度。维护方式是手动配置服务器上hosts文件。
>
> 缺点：hosts一般都是为本机系统所有，维护一台服务器还好说。如果是上千台集群，那么维护的工作很困难



### 动态

> 优点：只需要给服务器指明DNS服务器地址即可，无需手动配置hosts文件
>
> 缺点：有一定响应时间，(延迟)。若DNS服务器宕机，那么我们就立即失去访问域名的能力

