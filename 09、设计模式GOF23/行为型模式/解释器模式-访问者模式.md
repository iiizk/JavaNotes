[TOC]



# 解释器模式(Interpreter)

> 一般用不到

## 介绍

- 是一种不常用的设计模式
- 用于描述如何构成一个简单的语言解释器，主要用于使用面向对象语言开发的编译器和解释器设计
- 当我们需要开发一种新的语言时，可以考虑使用解释器模式
- ==尽量不要使用解释器模式，后期维护会有很大的麻烦。在项目中，可以使用Jruby，Groovy、Java的js引擎来替代解释器的作用，弥补Java语言的不足==



## 开发中常见的场景

- EL表达式的处理
- 正则表达式解释器
- SQL语法的解释器
- 数学表达式解析器
  - 如现成的工具包：Math Expression String Parser、Expression4J等
  - MESP的网址：http://sourceforge.net/projects/expression-tree/
  - Expression4J的网址：http://sourceforge.net/projects/expression4j/



# 访问者模式(Visitor)

## 模式动机

- 对于存储在一个集合中的对象，他们可能具有不同类型（即使有一个公共的接口），对于该集合中的对象，可以接受一类称为访问者的对象来访问，不同的访问者其访问方式也有所不同

## 定义

- 表示一个作用于某对象结构中的各元素的操作，它使我们可以在不改变这个元素的类的前提下定义作用于这些元素的新操作。

## 开发中的场景（应用范围非常窄，了解即可）

- XML文档解析器设计
- 编译器的设计
- 复杂集合对象的处理